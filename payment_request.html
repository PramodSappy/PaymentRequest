<html>
  
  <head>
    <script>
  
    const supportedPaymentMethods = [
      {
          supportedMethods: ["basic-card"],
          data: {
          supportedNetworks: ["visa", "mastercard"],
          supportedTypes: ["debit", "credit"],
          },
      },
      {
          supportedMethods: ["https://w3c.mcskunkworks.com/"],
          merchantName: 'Amazon',
          data: {
          merchantIdentifier: "4i345hikjhiqwkhjf8adfh13",
          bobPaySpecificField: true,
          },
      }
  ];
  
  const paymentDetails = {
      total: {label: 'Total', amount: {currency: 'USD', value: '400.00'}},
      displayItems: [
          {
          label: 'Apple Watch Series 3',
          amount: {currency: 'USD', value: '500.00'},
          },
          {
          label: 'apple discount',
          amount: {currency: 'USD', value: '-100.00'},
          },
      ]
     
  };
  
  // Options isn't required.
  const options = {};
      function pay(){
        if (navigator.getInstalledRelatedApps) {
          navigator.getInstalledRelatedApps()
            .then(apps => {
              console.log('apps are'+apps);
              console.log('apps are length'+apps.length);
                if(apps.length > 0) { /* Hide the UI */ }
          });
        }
          if(window.PaymentRequest) {
              console.log("Calling Payment Request");
              const PR = new PaymentRequest(
                  supportedPaymentMethods,
                  paymentDetails,
                  options
              );
  
              PR.show()
              .then((paymentResponse) => {
                  // The user filled in the required fields and completed the flow
                  // Get the details from `paymentResponse` and complete the transaction.
                  return paymentResponse.complete();
              })
              .catch((err) => {
                  console.log("Error: "+err);
              });
  
          } else {
              alert("Damn!!")
  
          }
      }
  </script>
  </head>
  
  <body>
    <h1>Shop</h1>
    <button onclick="pay();">Pay</button>
  </body>
  
  </html>
